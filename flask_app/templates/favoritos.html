<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Favoritos</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Source+Sans+Pro:wght@400;600&display=swap"
        rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<body>

    <!-- Include SVG Icons Component -->
    {% include 'components/_svg_icons.html' %}

    <main>

        <!-- Include Menu Lateral -->
        {% include 'components/_menu_lateral.html' %}

        <div class="b-example-divider"></div>

        <div class="container-fluid p-4">
            <h1 class="main-title text-center">Favoritos</h1>

            <!-- Sección de organización -->
            <div class="organization-section bg-light p-4 rounded-3 shadow-sm mb-4">
                <div class="row align-items-center">
                    <div class="col-md-4">
                        <div class="d-flex align-items-center organization-group">
                            <span class="me-3"><i class="fas fa-sort fa-lg text-primary"></i></span>
                            <select class="form-select playfair-font" aria-label="Ordenar por">
                                <option selected>Ordenar por</option>
                                <option value="date_desc">Más recientes primero</option>
                                <option value="date_asc">Más antiguos primero</option>
                                <option value="likes">Más likes</option>
                                <option value="comments">Más comentados</option>
                                <option value="shares">Más compartidos</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="d-flex align-items-center organization-group">
                            <span class="me-3"><i class="fas fa-filter fa-lg text-primary"></i></span>
                            <select class="form-select playfair-font" aria-label="Filtrar por categoría">
                                <option selected>Filtrar por categoría</option>
                                <option value="technology">Tecnología</option>
                                <option value="science">Ciencia</option>
                                <option value="politics">Política</option>
                                <option value="environment">Medio Ambiente</option>
                                <option value="health">Salud</option>
                                <option value="entertainment">Entretenimiento</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="d-flex align-items-center organization-group">
                            <span class="me-3"><i class="fas fa-calendar fa-lg text-primary"></i></span>
                            <select class="form-select playfair-font" aria-label="Período de tiempo">
                                <option selected>Período de tiempo</option>
                                <option value="today">Hoy</option>
                                <option value="week">Esta semana</option>
                                <option value="month">Este mes</option>
                                <option value="year">Este año</option>
                                <option value="all">Todo el tiempo</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-12">
                        <div class="active-filters d-flex flex-wrap gap-2">
                            <!-- Los filtros activos se agregarán aquí dinámicamente -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contenedor de noticias con scroll -->
            <div class="news-container" style="height: calc(100vh - 200px); overflow-y: auto;">

                <!-- Noticia Individual -->
                {% for noticia in noticias %}
                <div class="card mb-3 shadow-sm">
                    <div class="row g-0">
                        <div class="col-md-4">
                            <img src="{{ noticia.foto_video }}" class="img-fluid rounded-start" alt=""
                                style="object-fit: cover; height: 100%; width: 100%;">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <h5 class="card-title news-title">{{noticia.titulo}}</h5>
                                <p class="card-text news-content">{{noticia.noticia}}</p>
                                <p class="card-text news-meta"><small class="text-muted">Publicado en
                                        {{noticia.created_at}} • Por {{noticia.nombre_usuario}}</small></p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="btn-group">
                                        <a href="/noticia/{{noticia.id}}" class="btn btn-sm btn-outline-dark">Leer
                                            más</a>
                                        {% if noticia.usuario_id == id %}
                                        <a href="/editar_noticia/{{noticia.id}}"
                                            class="btn btn-sm btn-outline-dark">Editar noticia</a>
                                        <button type="button" class="btn btn-sm btn-outline-danger delete-btn"
                                            data-id="{{noticia.id}}">Eliminar noticia</button>
                                        {% endif %}
                                        <button type="button" class="btn btn-sm btn-outline-dark"><i
                                                class="fas fa-heart"></i></button>
                                    </div>
                                    <small class="text-muted"><i
                                            class="fas fa-comments me-1"></i>{{noticia.comentarios_count}}
                                        comentarios</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}

            </div>
        </div>
    </main>

    <!-- Include Toastr Messages Component -->
    {% include 'components/_toastr_messages.html' %}

    <!-- Script principal -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>

    <!-- Script mostrar favoritos -->
    <script src="{{ url_for('static', filename='js/mostrar_favoritos.js') }}"></script>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- jQuery y Toastr -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='js/toastr.min.js') }}"></script>

</body>

</html>